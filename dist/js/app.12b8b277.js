(function(t){function e(e){for(var r,i,c=e[0],u=e[1],s=e[2],l=0,d=[];l<c.length;l++)i=c[l],a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a64e597b"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=a[t]=[e,r]});e.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t),o=function(e){u.onerror=u.onload=null,clearTimeout(s);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");i.type=r,i.request=o,n[1](i)}a[t]=void 0}};var s=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/blog/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"678c":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("a026"),a=n("bb71");n("da64");r["default"].use(a["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",[t._v("Vuetify")]),n("span",{staticClass:"font-weight-light"},[t._v("MATERIAL DESIGN")])]),n("v-spacer"),n("v-btn",{attrs:{flat:"",href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank"}},[n("span",{staticClass:"mr-2"},[t._v("Latest")])])],1),n("v-content",[n("v-container",[n("v-layout",[n("v-flex",{attrs:{lg1:""}}),n("v-flex",{attrs:{lg10:""}},[n("router-view")],1),n("v-flex",{attrs:{lg1:""}})],1)],1)],1)],1)},i=[],c=n("2f62");r["default"].use(c["a"]);var u={name:"App",components:{},data:function(){return{}}},s=u,l=n("2877"),f=n("6544"),d=n.n(f),p=n("7496"),h=n("8336"),v=n("a523"),b=n("549c"),g=n("0e8f"),m=n("a722"),w=n("9910"),y=n("71d9"),x=n("2a7f"),k=Object(l["a"])(s,o,i,!1,null,null,null);k.options.__file="App.vue";var j=k.exports;d()(k,{VApp:p["a"],VBtn:h["a"],VContainer:v["a"],VContent:b["a"],VFlex:g["a"],VLayout:m["a"],VSpacer:w["a"],VToolbar:y["a"],VToolbarTitle:x["a"]});var O=n("8c4f"),_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])}],R=n("d225"),A=n("308d"),E=n("6bb5"),S=n("4e2b"),V=n("9ab4"),P=n("60a3"),D=function(t){function e(){return Object(R["a"])(this,e),Object(A["a"])(this,Object(E["a"])(e).apply(this,arguments))}return Object(S["a"])(e,t),e}(P["b"]);D=V["a"]([Object(P["a"])({})],D);var L=D,I=L,T=Object(l["a"])(I,_,C,!1,null,null,null);T.options.__file="Home.vue";var M=T.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{staticClass:"editor-field"},[n("v-flex",{attrs:{xs12:""}},[n("div",{ref:"editorField"})])],1),n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{sm4:"",md6:"",lg8:"","pa-1":""}}),n("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg2:"","pa-1":""}},[n("div",[n("v-btn",{attrs:{depressed:"",block:"",color:"primary"}},[t._v("저장하기")])],1)]),n("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg2:"","pa-1":""}},[n("div",[n("v-btn",{attrs:{depressed:"",block:"",color:"primary"},on:{click:t.save}},[t._v("게시하기")])],1)])],1),n("v-flex",{attrs:{lg1:""}})],1)},$=[],B=(n("96cf"),n("3b8d")),F=n("b0b4"),N=n("3730"),J=n.n(N),z=n("fb3d"),H=n.n(z),q=n("795b"),G=n.n(q),K={apiKey:"AIzaSyBaTBTMSlEwlverAwcH0TVAP6_rjIMNA5Y",authDomain:"blog-ec85e.firebaseapp.com",databaseURL:"https://blog-ec85e.firebaseio.com",projectId:"blog-ec85e",storageBucket:"blog-ec85e.appspot.com",messagingSenderId:"888636209783"},Y=n("8aa5"),Q=n.n(Y),W=n("11c1"),X=function(){function t(e){Object(R["a"])(this,t),this.success=e,this.data=void 0,this.error=null}return Object(F["a"])(t,[{key:"setData",value:function(t){return this.data=t,this}},{key:"setError",value:function(t){return this.error=t,this}}]),t}();Q.a.initializeApp(K);var Z=Q.a.storage(),tt=Q.a.firestore();tt.settings({timestampsInSnapshots:!0});var et={collection:"board",boardName:"name",exist:function(t){var e=this;return new G.a(function(n,r){tt.collection(e.collection).doc(t).get().then(function(t){var e=t.exists;n(new X(!0).setData(e))})})},get:function(t){var e=this;return new G.a(function(n,r){tt.collection(e.collection).doc(t).get().then(function(e){if(e.exists){var a=e.data();n(new X(!0).setData(a))}else r(new X(!1).setError(new Error("not exist document at ".concat(t))))}).catch(function(t){r(new X(!1).setError(t))})})},set:function(t){var e=this;return new G.a(function(){var n=Object(B["a"])(regeneratorRuntime.mark(function n(r,a){var o;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return console.log("here save",t),n.prev=1,n.next=4,e.createPage(t);case 4:o=n.sent,tt.collection(e.collection).doc(t.getId()).set(t.getSaveContent(o.data)).then(function(){return r(new X(!0))}).catch(function(t){return a(new X(!1).setError(t))}),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),a(new X(!1).setError(n.t0));case 11:case"end":return n.stop()}},n,this,[[1,8]])}));return function(t,e){return n.apply(this,arguments)}}())},createPage:function(t){return new G.a(function(e,n){var r=t.content,a=(t.getId(),Z.ref("board/".concat(t.getId(),".html")));a.putString(r).then(function(){return a}).then(function(t){t.getDownloadURL().then(function(t){e(new X(!1).setData(t))}).catch(function(t){return n(new X(!1).setError(t))})}).catch(function(t){n(new X(!1).setError(t))})})},createMedia:function(t,e){return new G.a(function(n,r){var a=Object(W["v1"])(),o=Z.ref("board/".concat(e.getId(),"/").concat(a));o.put(t).then(function(t){return o}).then(function(t){t.getDownloadURL().then(function(t){return n(new X(!1).setData(t))}).catch(function(t){return r(new X(!1).setError(t))})}).catch(function(t){r(new X(!1).setError(t))})})}},nt=function(){function t(e,n){Object(R["a"])(this,t),this.loader=e,this.board=n}return Object(F["a"])(t,[{key:"upload",value:function(){var t=this;return new G.a(function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(n,r){var a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="",e.prev=1,console.log(t.loader.file),console.log(t.board),e.next=6,et.createMedia(t.loader.file,t.board);case 6:o=e.sent,a=o.data,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:n({default:a});case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"abort",value:function(){}}]),t}(),rt=n("5176"),at=n.n(rt),ot=n("f499"),it=n.n(ot),ct=n("4be7"),ut=n("bc3a"),st=n.n(ut),lt=n("2ef0"),ft=n.n(lt),dt=function(){function t(e){Object(R["a"])(this,t),this.title="",this.content="",this.savedContentURL="",this.id="",this.createdAt="",this.modifiedAt="",this.publishedAt="",this.viewCount=0,this.likeCount=0,this.unlikeCount=0,this.id=e}return Object(F["a"])(t,[{key:"save",value:function(){var t=this;return new ct["Promise"](function(e,n){et.set(t).then(function(){return e()}).catch(function(t){return n(t)})})}},{key:"getSaveContent",value:function(t){var e=JSON.parse(it()(this));return delete e.content,e.savedContentURL=t,e}},{key:"getId",value:function(){return this.id}},{key:"getContent",value:function(){return this.content}},{key:"getCreatedAt",value:function(){return this.createdAt}},{key:"getModifiedAt",value:function(){return this.modifiedAt}},{key:"getPublishedAt",value:function(){return this.publishedAt}},{key:"getViewCount",value:function(){return this.viewCount}},{key:"getLikeCount",value:function(){return this.likeCount}},{key:"getUnlikeCount",value:function(){return this.unlikeCount}},{key:"inject",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(at()(this,e),t.prev=1,ft.a.isNil(e.savedContentURL)||ft.a.isEmpty(e.savedContentURL)){t.next=7;break}return t.next=5,st.a.get(e.savedContentURL);case 5:n=t.sent,this.content=n.data;case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(e){return t.apply(this,arguments)}return e}()}],[{key:"exist",value:function(t){return!0}},{key:"create",value:function(e){return new ct["Promise"](function(n,r){var a=new t(e),o=new X(!0).setData(a);n(o)})}},{key:"load",value:function(e){return new ct["Promise"](function(){var n=Object(B["a"])(regeneratorRuntime.mark(function n(r,a){var o,i,c;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,o=new t(e),n.next=4,et.get(e);case 4:return i=n.sent,n.next=7,o.inject(i.data);case 7:c=new X(!0).setData(o),r(c),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),a(new X(!1).setError(n.t0));case 14:case"end":return n.stop()}},n,this,[[0,11]])}));return function(t,e){return n.apply(this,arguments)}}())}}]),t}();console.log(J.a);var pt=function(t){function e(){var t;return Object(R["a"])(this,e),t=Object(A["a"])(this,Object(E["a"])(e).call(this)),t.id="",t}return Object(S["a"])(e,t),Object(F["a"])(e,[{key:"created",value:function(){this.id=this.$route.params.id}},{key:"mounted",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt.exist(this.id);case 2:return e=t.sent,t.next=5,H.a.create(this.$refs.editorField);case 5:if(this.editor=t.sent,this.editor.plugins.get("FileRepository").createUploadAdapter=function(t){return new nt(t,n.board)},!e){t.next=15;break}return t.next=10,dt.load(this.id);case 10:this.board=t.sent.data,this.editor.setData(this.board.content),console.log("loaded",this.board),t.next=18;break;case 15:return t.next=17,dt.create(this.id);case 17:this.board=t.sent.data;case 18:console.log(this.board.getId()),this.editor.model.document.on("change:data",ft.a.debounce(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n.board.content=n.editor.getData(),t.next=3,n.board.save();case 3:t.sent,console.log("save over");case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),1e3));case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"save",value:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("editor",this.editor.getData()),console.log("save"),t.next=4,this.board.save();case 4:t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(P["b"]);pt=V["a"]([Object(P["a"])({components:{ckeditor:J.a.component},data:function(){return{}}})],pt);var ht=pt,vt=ht,bt=(n("dc05"),Object(l["a"])(vt,U,$,!1,null,null,null));bt.options.__file="editor.vue";var gt=bt.exports;d()(bt,{VBtn:h["a"],VContainer:v["a"],VFlex:g["a"],VLayout:m["a"]}),r["default"].use(O["a"]);var mt=new O["a"]({mode:"history",base:"/blog/",routes:[{path:"/",name:"home",component:M},{path:"/editor/:id",name:"editor",component:gt},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});r["default"].use(c["a"]);var wt=new c["a"].Store({state:{},mutations:{},actions:{}});r["default"].config.productionTip=!1,new r["default"]({router:mt,store:wt,render:function(t){return t(j)},mounted:function(){console.log("App Start")}}).$mount("#app")},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},dc05:function(t,e,n){"use strict";var r=n("678c"),a=n.n(r);a.a}});
//# sourceMappingURL=app.12b8b277.js.map